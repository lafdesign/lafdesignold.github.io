/*! Compiled on: 2014-06-05 */
"use strict";var analytics=angular.module("analytics",["cookies"]);analytics.factory("$analytics",["$rootScope","$http","$cookies","$location",function($rootScope,$http,$cookies,$location){function uniqueId(){function hash(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return hash()+hash()+hash()+hash()}var referrer;return $cookies.has("session")||$cookies.set("session",uniqueId(),86400),self.send=function(data){$http.get("http://analytics.thehitch.com:5444/",{params:data})},$rootScope.$on("$stateChangeSuccess",function(){""!=document.referrer&&(referrer=document.referrer),self.send({session:$cookies.get("session"),type:"page_view",url:$location.url(),local_time:(new Date).getTime(),user:$cookies.get("user_id"),referrer:referrer}),referrer=$location.url()}),self}]);