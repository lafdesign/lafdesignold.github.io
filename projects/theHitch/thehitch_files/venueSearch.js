/*! Compiled on: 2014-06-05 */
"use strict";define(["modules/app"],function(app){app.directiveManager("venueSearch",["$http","config","$cookies","$location","$rootScope",function($http,config,$cookies,$location,$rootScope){return{restrict:"C",controller:function($scope,$element){$element.bind("submit",function(){$scope.term&&($cookies.venueSearchTerm=$scope.term,$scope.uri?$location.path($scope.uri):$location.path("/wedding-venues").search("query",$scope.term),$scope.search.$setPristine(),$rootScope.$apply())})},link:function($scope){$scope.$watch("term",function(query){void 0!==query&&query.length>1&&$http.get(config.api+"/search?query="+query).then(function(response){var data=response.data.data;for(var category in data)for(var i=0;i<data[category].length;i++)data[category][i].name=data[category][i].name,data[category][i].uri=data[category][i].uri;$scope.results=data})})}}}])});